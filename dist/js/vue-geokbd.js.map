{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 4e010fdf596966c64b95","webpack:///./src/index.ts","webpack:///./src/directive.ts","webpack:///./src/keypress.ts","webpack:///./src/statusMsgEff.ts","webpack:///./src/statusMsgElement.ts"],"names":["directive_1","require","statusMsgEff_1","install","Vue","_a","_b","_c","hotkey","_d","enabled","_e","statusMessage","options","default","init","directive","module","exports","keypress_1","Object","defineProperty","value","bind","el","binding","keypressEvent","evt","metaKey","ctrlKey","String","fromCharCode","which","preventDefault","focusEvent","visibility","blurEvent","addEventListener","unbind","removeEventListener","ALPHABET","BASE_INDEX","convertChar","charIndex","char","indexOf","isSelectionSupported","$input","selectionStart","selectionEnd","getInputSelection","start","end","setInputSelection","offset","blur","focus","handleKeypress","target","to","sel","val","slice","statusMsgElement_1","StatusMsgEff","create","stateText","_this","visibilityState","setTimeout","isVisible","TEXT_ENABLED","TEXT_DISABLED","CLASSNAME","CLASSNAME_STATE","CLASSNAME_HIDDEN","CLASSNAME_VISIBLE","TEMPLATE","join","StatusMsgElement","$root","document","createElement","className","innerHTML","replace","$state","querySelector","body","appendChild","isEnabled"],"mappings":"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","file":"vue-geokbd.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"vue-geokbd\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"vue-geokbd\"] = factory();\n\telse\n\t\troot[\"vue-geokbd\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 4e010fdf596966c64b95\n **/","\"use strict\";\nvar directive_1 = require(\"./directive\");\nvar statusMsgEff_1 = require(\"./statusMsgEff\");\nvar install = function (Vue, _a) {\n    var _b = _a === void 0 ? {} : _a, _c = _b.hotkey, hotkey = _c === void 0 ? '~' : _c, _d = _b.enabled, enabled = _d === void 0 ? false : _d, _e = _b.statusMessage, statusMessage = _e === void 0 ? true : _e;\n    var options = { hotkey: hotkey, enabled: enabled, statusMessage: statusMessage };\n    statusMsgEff_1.default.init(options.hotkey, options.enabled);\n    Vue.directive('geokbd', directive_1.default(options));\n};\nmodule.exports = { install: install };\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ts-loader!./src/index.ts\n **/","\"use strict\";\nvar keypress_1 = require(\"./keypress\");\nvar statusMsgEff_1 = require(\"./statusMsgEff\");\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = function (options) { return ({\n    bind: function (el, binding) {\n        // Vue 1.x support\n        if (this && this.el) {\n            el = this.el;\n            binding = this;\n        }\n        binding.keypressEvent = function (evt) {\n            // Don't capture Ctrl/Meta keypress\n            if (evt.metaKey || evt.ctrlKey) {\n                return;\n            }\n            // Check if hotkey was pressed\n            if (options.hotkey === String.fromCharCode(evt.which)) {\n                evt.preventDefault();\n                statusMsgEff_1.default.enabled(options.enabled = !options.enabled);\n            }\n            else {\n                // Check enabled state\n                if (options.enabled === true) {\n                    keypress_1.default(evt);\n                }\n            }\n        };\n        binding.focusEvent = function () {\n            if (options.statusMessage) {\n                statusMsgEff_1.default.visibility(true);\n            }\n        };\n        binding.blurEvent = function () {\n            if (options.statusMessage) {\n                statusMsgEff_1.default.visibility(false);\n            }\n        };\n        el.addEventListener('keypress', binding.keypressEvent);\n        el.addEventListener('focus', binding.focusEvent);\n        el.addEventListener('blur', binding.blurEvent);\n    },\n    unbind: function (el, binding) {\n        // Vue 1.x support\n        if (this && this.el) {\n            el = this.el;\n            binding = this;\n        }\n        el.removeEventListener('keypress', binding.keypressEvent);\n        el.removeEventListener('focus', binding.focusEvent);\n        el.removeEventListener('blur', binding.blurEvent);\n    },\n}); };\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ts-loader!./src/directive.ts\n **/","\"use strict\";\nvar ALPHABET = 'abgdevzTiklmnopJrstufqRySCcZwWxjh';\nvar BASE_INDEX = 4304;\nfunction convertChar(charIndex) {\n    var char = String.fromCharCode(charIndex);\n    if (ALPHABET.indexOf(char) >= 0) {\n        return BASE_INDEX + ALPHABET.indexOf(char);\n    }\n    return charIndex;\n}\nfunction isSelectionSupported($input) {\n    return typeof $input.selectionStart === 'number' && typeof $input.selectionEnd === 'number';\n}\nfunction getInputSelection($input) {\n    var start = 0;\n    var end = 0;\n    if (isSelectionSupported($input)) {\n        start = $input.selectionStart;\n        end = $input.selectionEnd;\n    }\n    return { start: start, end: end };\n}\nfunction setInputSelection($input, offset) {\n    if (isSelectionSupported($input)) {\n        $input.selectionStart = offset.start;\n        $input.selectionEnd = offset.end;\n    }\n    // A little 'hack' to keep natural browser behavior while typing\n    $input.blur();\n    $input.focus();\n}\nfunction handleKeypress(evt) {\n    var $input = evt.target;\n    var which = evt.which;\n    var to = convertChar(which);\n    // Don't take any action if conversion didn't happen\n    if (which === to) {\n        return;\n    }\n    evt.preventDefault();\n    // Insert converted char\n    var sel = getInputSelection($input);\n    var val = $input.value;\n    $input.value = val.slice(0, sel.start) + String.fromCharCode(to) + val.slice(sel.end);\n    // Move caret to correct position\n    setInputSelection($input, { start: sel.start + 1, end: sel.start + 1 });\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = handleKeypress;\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ts-loader!./src/keypress.ts\n **/","\"use strict\";\nvar statusMsgElement_1 = require(\"./statusMsgElement\");\nvar StatusMsgEff = (function () {\n    function StatusMsgEff() {\n    }\n    StatusMsgEff.init = function (hotkey, enabled) {\n        statusMsgElement_1.default.create(hotkey);\n        statusMsgElement_1.default.stateText(enabled);\n    };\n    StatusMsgEff.enabled = function (enabled) {\n        statusMsgElement_1.default.stateText(enabled);\n    };\n    StatusMsgEff.visibility = function (visibility) {\n        var _this = this;\n        this.visibilityState = visibility = !!visibility;\n        // Add little delay to keep consistent visibility state\n        setTimeout(function () {\n            if (_this.visibilityState === visibility) {\n                statusMsgElement_1.default.isVisible(visibility);\n            }\n        }, 100);\n    };\n    return StatusMsgEff;\n}());\nStatusMsgEff.visibilityState = false;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = StatusMsgEff;\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ts-loader!./src/statusMsgEff.ts\n **/","\"use strict\";\nvar TEXT_ENABLED = 'ჩართულია';\nvar TEXT_DISABLED = 'გამორთულია';\nvar CLASSNAME = 'vue-geokbd--statusMessage';\nvar CLASSNAME_STATE = CLASSNAME + '-state';\nvar CLASSNAME_HIDDEN = CLASSNAME + ' hidden';\nvar CLASSNAME_VISIBLE = CLASSNAME + ' visible';\nvar TEMPLATE = [\n    '<div class=\"vue-geokbd--statusMessage-text\">',\n    'ქართული კლავიატურა: <u class=\"' + CLASSNAME_STATE + '\"></u><br>',\n    'ჩართვა/გამორთვა კლავიშით (\\'{$hotkey}\\')',\n    '</div>',\n].join('');\nvar StatusMsgElement = (function () {\n    function StatusMsgElement() {\n    }\n    StatusMsgElement.create = function (hotkey) {\n        this.$root = document.createElement('div');\n        this.$root.className = CLASSNAME_HIDDEN;\n        this.$root.innerHTML = TEMPLATE.replace('{$hotkey}', hotkey);\n        this.$state = this.$root\n            .querySelector('.' + CLASSNAME_STATE);\n        document.body.appendChild(this.$root);\n    };\n    StatusMsgElement.stateText = function (isEnabled) {\n        this.$state.innerHTML = isEnabled ? TEXT_ENABLED : TEXT_DISABLED;\n    };\n    StatusMsgElement.isVisible = function (isVisible) {\n        this.$root.className = isVisible ? CLASSNAME_VISIBLE : CLASSNAME_HIDDEN;\n    };\n    return StatusMsgElement;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = StatusMsgElement;\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/ts-loader!./src/statusMsgElement.ts\n **/"],"sourceRoot":""}